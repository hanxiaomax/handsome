# ARXML Parser - User Guide

## 简介

ARXML Parser是一个专业的AUTOSAR XML文件解析和可视化工具。无论您是汽车软件工程师、系统架构师还是开发者，这个工具都能帮您快速解析、浏览和分析复杂的AUTOSAR XML文件。

### 主要优势
- 🚀 **高效解析**: 快速处理大型XML文件
- 🔍 **可视化浏览**: 直观的树状结构导航
- 📤 **多格式输出**: 支持XML、JSON等多种格式
- 💻 **双输入模式**: 文件上传或直接文本输入
- 🔍 **实时搜索**: 快速定位XML元素

## 快速开始

### 第一步：打开工具
1. 在主页面点击 "ARXML Parser" 工具卡片
2. 或直接访问工具页面

### 第二步：输入XML内容
选择以下两种方式之一：

#### 方式一：文件上传
1. 点击左侧面板的 "File Upload" 标签
2. 将XML文件拖拽到上传区域，或点击选择文件
3. 支持格式：.xml, .arxml, .xsd, .svg, .rss, .atom

#### 方式二：文本输入
1. 点击左侧面板的 "Text Input" 标签
2. 将XML内容粘贴到文本区域
3. 点击 "Parse XML" 按钮开始解析

### 第三步：查看结果
解析完成后，右侧面板将显示处理结果，包括：
- 美化的XML格式
- 树状结构视图
- 压缩XML格式
- JSON转换结果

## 界面介绍

### 工具栏区域

#### 左侧面板工具栏
- **行号切换** (📊): 显示/隐藏代码行号
- **自动解析** (⚡): 开启后文件上传时自动解析
- **解析按钮** (▶️): 手动触发解析（自动解析关闭时显示）
- **复制** (📋): 复制源XML内容
- **下载** (📥): 下载源XML文件
- **清除** (🗑️): 清除当前输入内容

#### 右侧面板工具栏
- **显示模式切换**: 
  - 🔲 美化XML - 格式化的XML显示
  - 🌲 树状结构 - 可交互的层级视图
  - 📦 压缩XML - 紧凑格式显示
  - 📄 JSON格式 - 转换为JSON显示
- **搜索框** (🔍): 在树状模式中搜索元素
- **展开/折叠** (📂/📁): 控制所有树节点
- **复制** (📋): 复制当前格式内容
- **下载** (📥): 下载当前格式文件

### 状态栏信息
- **左侧状态栏**: 显示文件名、大小和输入类型
- **右侧状态栏**: 显示当前模式和解析的元素数量
- **路径导航栏**: 在树状模式中显示当前选中元素的路径

## 详细功能说明

### 文件上传功能

#### 支持的文件格式
- **.xml**: 标准XML文件
- **.arxml**: AUTOSAR XML文件
- **.xsd**: XML Schema定义文件
- **.svg**: 可缩放矢量图形文件
- **.rss**: RSS订阅文件
- **.atom**: Atom订阅文件

#### 文件大小限制
- **推荐大小**: < 10MB（支持自动解析）
- **最大支持**: 100MB
- **性能最佳**: < 5MB文件响应最快

#### 拖拽上传
1. 直接将文件拖拽到上传区域
2. 区域会显示蓝色高亮表示可以放置
3. 释放文件即可自动上传

### 文本输入功能

#### 文本区域特性
- **高度**: 400px滚动区域
- **字体**: 等宽字体便于阅读
- **自动换行**: 支持长行内容换行
- **实时预览**: 输入内容实时显示

#### 粘贴技巧
1. 使用 Ctrl+V (Windows) 或 Cmd+V (Mac) 粘贴
2. 支持从浏览器、编辑器等任何来源复制的XML
3. 自动检测和验证XML格式

### 显示模式详解

#### 1. 美化XML模式 🔲
**特点**:
- 统一2空格缩进
- 语法高亮显示
- 可选行号显示
- 保持XML原始结构

**适用场景**:
- 查看格式化的XML代码
- 代码审查和调试
- 复制格式化内容

#### 2. 树状结构模式 🌲
**特点**:
- 层级化显示XML元素
- 可展开/折叠节点
- 显示子元素数量
- 支持元素选择和高亮

**交互操作**:
- **点击节点**: 选中元素，更新路径导航
- **点击展开按钮**: 展开/折叠子节点
- **搜索框**: 实时过滤匹配的元素
- **全部展开**: 一键展开所有节点
- **全部折叠**: 一键折叠所有节点

**适用场景**:
- 浏览复杂XML结构
- 快速定位特定元素
- 理解XML层级关系

#### 3. 压缩XML模式 📦
**特点**:
- 移除多余空白字符
- 120字符自动换行
- 保持XML结构完整性
- 适合网络传输

**适用场景**:
- 减少文件体积
- 网络传输优化
- 存储空间节省

#### 4. JSON格式模式 📄
**特点**:
- XML到JSON智能转换
- 属性使用@前缀标识
- 文本内容存储在text字段
- 2空格格式化输出

**转换规则**:
```xml
<element attr="value">text content</element>
```
转换为：
```json
{
  "element": {
    "attributes": {
      "@attr": "value"
    },
    "text": "text content"
  }
}
```

**适用场景**:
- JavaScript项目集成
- API数据交换
- 数据分析处理

### 搜索功能

#### 搜索范围
- **元素名称**: 匹配XML标签名
- **属性名**: 匹配元素属性
- **路径**: 匹配元素路径
- **内容**: 匹配文本内容

#### 搜索技巧
1. **部分匹配**: 输入部分字符即可匹配
2. **大小写不敏感**: 自动忽略大小写差异
3. **实时过滤**: 输入时立即显示结果
4. **高亮显示**: 匹配结果会高亮标识

### 路径导航功能

#### 面包屑导航
当在树状模式中选择元素时，顶部会显示路径导航：
```
Path: Root > AR-PACKAGES > AR-PACKAGE > Demo > Door
```

#### 导航操作
- **点击Root**: 返回根节点
- **点击路径节点**: 跳转到该层级
- **当前位置**: 用不同颜色标识
- **层级分隔**: 使用">"符号分隔

### 复制和下载功能

#### 复制功能
**支持的格式**:
- 当前显示模式的内容
- 自动检测剪贴板兼容性
- 成功复制后显示确认消息

**快捷键**:
- Ctrl+C (Windows) 或 Cmd+C (Mac)

#### 下载功能
**文件命名规则**:
- 美化XML: `原文件名_beautified.xml`
- 压缩XML: `原文件名_compressed.xml`
- JSON格式: `原文件名.json`
- 树状结构: `原文件名_tree.json`

**MIME类型**:
- XML文件: `text/xml`
- JSON文件: `application/json`

### 设置和偏好

#### 自动解析设置
- **开启**: 文件上传后自动解析（推荐小文件）
- **关闭**: 手动点击解析按钮（推荐大文件）

#### 显示偏好
- **行号显示**: 可切换代码行号显示
- **主题适配**: 自动适应明/暗主题
- **字体大小**: 跟随浏览器设置

## 快捷键

### 全局快捷键
- **Ctrl/Cmd + C**: 复制当前内容
- **Ctrl/Cmd + S**: 下载当前格式文件
- **Escape**: 返回主页面
- **F11**: 全屏模式切换

### 导航快捷键
- **Tab**: 焦点在工具内导航
- **Enter/Space**: 激活按钮和链接
- **方向键**: 在树状结构中导航

## 最佳实践

### 文件处理建议

#### 大文件处理
1. **关闭自动解析**: 避免界面卡顿
2. **分段处理**: 考虑拆分超大文件
3. **内存监控**: 注意浏览器内存使用

#### 小文件处理
1. **开启自动解析**: 提高效率
2. **直接粘贴**: 小内容可直接使用文本输入

### 工作流程建议

#### 标准工作流
1. **上传/输入XML** → **自动/手动解析** → **选择显示模式** → **浏览/搜索内容** → **复制/下载结果**

#### 调试工作流
1. **文本输入模式** → **美化XML模式** → **检查格式** → **修复问题** → **重新解析**

#### 分析工作流
1. **文件上传** → **树状结构模式** → **搜索定位** → **路径导航** → **JSON导出分析**

### 性能优化建议

#### 浏览器设置
- **内存充足**: 建议8GB+内存处理大文件
- **现代浏览器**: Chrome 90+, Firefox 88+, Safari 14+
- **硬件加速**: 启用浏览器硬件加速

#### 文件处理
- **预处理**: 移除不必要的注释和空白
- **编码统一**: 使用UTF-8编码
- **格式验证**: 确保XML格式正确

## 故障排除

### 常见问题

#### 解析失败
**症状**: 显示"Failed to parse XML"错误
**解决方案**:
1. 检查XML格式是否正确
2. 验证文件编码是否为UTF-8
3. 移除特殊字符和非法符号
4. 检查标签是否正确闭合

#### 文件上传失败
**症状**: 文件无法上传或显示错误
**解决方案**:
1. 检查文件格式是否支持
2. 确认文件大小在限制范围内
3. 刷新页面重试
4. 尝试使用文本输入模式

#### 界面卡顿
**症状**: 界面响应缓慢或卡死
**解决方案**:
1. 关闭自动解析功能
2. 分段处理大文件
3. 清理浏览器缓存
4. 重启浏览器

#### 复制功能不工作
**症状**: 点击复制没有反应
**解决方案**:
1. 检查浏览器剪贴板权限
2. 尝试手动选择内容复制
3. 使用下载功能替代
4. 更新浏览器版本

### 性能问题

#### 内存占用过高
**症状**: 浏览器内存使用过多
**解决方案**:
1. 关闭其他标签页
2. 重启浏览器
3. 处理较小的文件块
4. 升级设备内存

#### 解析速度慢
**症状**: 解析进度长时间停滞
**解决方案**:
1. 检查文件复杂度
2. 简化XML结构
3. 移除不必要的属性
4. 分批次处理

## 技术支持

### 浏览器兼容性
- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+
- ❌ Internet Explorer

### 文件格式支持
- ✅ XML 1.0/1.1
- ✅ AUTOSAR 4.x
- ✅ SVG 1.1/2.0
- ✅ RSS 2.0
- ✅ Atom 1.0

### 限制说明
- **最大文件大小**: 100MB
- **最大元素数**: 100,000个
- **内存限制**: 500MB
- **搜索结果**: 1,000个匹配项

## 更新日志

### v1.0.0 (当前版本)
- ✨ 首次发布
- ✨ 双输入模式支持
- ✨ 四种显示格式
- ✨ 实时搜索功能
- ✨ 路径导航系统
- ✨ 智能复制清除

### 计划功能
- 🔄 XML验证功能
- 🔄 XPath查询支持
- 🔄 批量文件处理
- 🔄 导出更多格式
- 🔄 历史记录功能

---

**需要帮助？**
如果您在使用过程中遇到问题，请查看故障排除部分或联系技术支持。

**版本**: 1.0.0  
**最后更新**: 2024年12月 